{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aluno\\\\Documents\\\\website-cancro-master\\\\src\\\\components\\\\monitoramento\\\\monitoramento.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions\";\nimport { Card } from \"react-materialize\";\nimport { compose } from 'redux';\nimport { myFirebase as firebase } from \"../../firebase/firebase\";\n\nclass Monitoramento extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onCollectionUpdate = querySnapshot => {\n      const produtores = [];\n      querySnapshot.forEach(doc => {\n        const _doc$data = doc.data(),\n              data = _doc$data.data,\n              id = _doc$data.id,\n              monitoramento = _doc$data.monitoramento,\n              planta = _doc$data.planta;\n\n        produtores.push({\n          key: doc.id,\n          data,\n          id,\n          monitoramento,\n          planta\n        });\n      });\n      this.setState({\n        produtores\n      });\n    };\n\n    this.handleLogout = () => {\n      const dispatch = this.props.dispatch;\n      dispatch(logoutUser());\n    };\n\n    this.ref = firebase.firestore().collection('produtores');\n    this.unsubscribe = null;\n    this.state = {\n      produtores: []\n    };\n  }\n\n  componentDidMount() {\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n  }\n\n  render() {\n    const _this$props = this.props,\n          isLoggingOut = _this$props.isLoggingOut,\n          logoutError = _this$props.logoutError;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Monitoramento\"), React.createElement(\"button\", {\n      onClick: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Sair\"), isLoggingOut && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Logging Out....\"), logoutError && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Error logging out\"), this.state.produtores.map(produtor => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, produtor.data), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, produtor.email), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, produtor.planta), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, produtor.monitoramento))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isLoggingOut: state.auth.isLoggingOut,\n    logoutError: state.auth.logoutError\n  };\n};\n\nexport default compose(connect(mapStateToProps))(Monitoramento);","map":{"version":3,"sources":["C:/Users/Aluno/Documents/website-cancro-master/src/components/monitoramento/monitoramento.js"],"names":["React","Component","connect","logoutUser","Card","compose","myFirebase","firebase","Monitoramento","constructor","props","onCollectionUpdate","querySnapshot","produtores","forEach","doc","data","id","monitoramento","planta","push","key","setState","handleLogout","dispatch","ref","firestore","collection","unsubscribe","state","componentDidMount","onSnapshot","render","isLoggingOut","logoutError","map","produtor","email","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions\";\nimport { Card } from \"react-materialize\";\nimport { compose } from 'redux';\nimport { myFirebase as firebase } from \"../../firebase/firebase\";\n\nclass Monitoramento extends Component {\n\n  constructor(props) {\n    super(props);\n    this.ref = firebase.firestore().collection('produtores');\n    this.unsubscribe = null;\n    this.state = {\n      produtores: []\n    };\n  }\n\n  onCollectionUpdate = (querySnapshot) => {\n    const produtores = [];\n    querySnapshot.forEach((doc) => {\n      const { data, id, monitoramento, planta } = doc.data();\n      produtores.push({\n        key: doc.id,\n        data,\n        id,\n        monitoramento,\n        planta\n      });\n    });\n    this.setState({\n      produtores\n    });\n  }\n\n  componentDidMount() {\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n  }\n\n  handleLogout = () => {\n    const { dispatch } = this.props;\n    dispatch(logoutUser());\n  };\n\n  render() {\n    const { isLoggingOut, logoutError } = this.props; return (\n      <div>\n        <h4>Monitoramento</h4>\n        <button onClick={this.handleLogout}>Sair</button>\n        {isLoggingOut && <p>Logging Out....</p>}\n        {logoutError && <p>Error logging out</p>}\n\n\n        {this.state.produtores.map(produtor =>\n          <div>\n            <p>{produtor.data}</p>\n            <p>{produtor.email}</p>\n            <p>{produtor.planta}</p>\n            <p>{produtor.monitoramento}</p>\n          </div>\n        )}\n      </div>\n\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isLoggingOut: state.auth.isLoggingOut,\n    logoutError: state.auth.logoutError\n  };\n}\n\nexport default compose(\n  connect(mapStateToProps),\n)(Monitoramento);"]},"metadata":{},"sourceType":"module"}