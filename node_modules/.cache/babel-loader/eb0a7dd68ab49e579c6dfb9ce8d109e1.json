{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aluno\\\\Documents\\\\website-cancro-master\\\\src\\\\components\\\\monitoramento\\\\monitoramento.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions\";\nimport { Card } from \"react-materialize\";\nimport { compose } from 'redux';\nimport { myFirebase as firebase } from \"../../firebase/firebase\";\n\nclass Monitoramento extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onCollectionUpdate = querySnapshot => {\n      const produtores = [];\n      querySnapshot.forEach(doc => {\n        const _doc$data = doc.data(),\n              data = _doc$data.data,\n              email = _doc$data.email,\n              planta = _doc$data.planta,\n              monitoramento = _doc$data.monitoramento;\n\n        produtores.push({\n          key: doc.id,\n          data,\n          email,\n          planta,\n          monitoramento\n        });\n      });\n      this.setState({\n        produtores\n      });\n    };\n\n    this.handleLogout = () => {\n      const dispatch = this.props.dispatch;\n      dispatch(logoutUser());\n    };\n\n    this.ref = firebase.firestore().collection('produtores');\n    this.unsubscribe = null;\n    this.state = {\n      produtores: []\n    };\n  }\n\n  componentDidMount() {\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n  }\n\n  render() {\n    const _this$props = this.props,\n          isLoggingOut = _this$props.isLoggingOut,\n          logoutError = _this$props.logoutError;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Monitoramento\"), React.createElement(\"button\", {\n      onClick: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Sair\"), isLoggingOut && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Logging Out....\"), logoutError && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Error logging out\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Data\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Planta\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Monitoramento\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.produtores.map(produtor => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, produtor.planta), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, produtor.data), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, produtor.monitoramento)))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isLoggingOut: state.auth.isLoggingOut,\n    logoutError: state.auth.logoutError\n  };\n};\n\nexport default compose(connect(mapStateToProps))(Monitoramento);","map":{"version":3,"sources":["C:/Users/Aluno/Documents/website-cancro-master/src/components/monitoramento/monitoramento.js"],"names":["React","Component","connect","logoutUser","Card","compose","myFirebase","firebase","Monitoramento","constructor","props","onCollectionUpdate","querySnapshot","produtores","forEach","doc","data","email","planta","monitoramento","push","key","id","setState","handleLogout","dispatch","ref","firestore","collection","unsubscribe","state","componentDidMount","onSnapshot","render","isLoggingOut","logoutError","map","produtor","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions\";\nimport { Card } from \"react-materialize\";\nimport { compose } from 'redux';\nimport { myFirebase as firebase } from \"../../firebase/firebase\";\n\nclass Monitoramento extends Component {\n\n  constructor(props) {\n    super(props);\n    this.ref = firebase.firestore().collection('produtores');\n    this.unsubscribe = null;\n    this.state = {\n      produtores: []\n    };\n  }\n\n  onCollectionUpdate = (querySnapshot) => {\n    const produtores = [];\n    querySnapshot.forEach((doc) => {\n      const { data, email, planta, monitoramento } = doc.data();\n      produtores.push({\n        key: doc.id,\n        data,\n        email,\n        planta,\n        monitoramento\n      });\n    });\n    this.setState({\n      produtores\n    });\n  }\n\n  componentDidMount() {\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n  }\n\n  handleLogout = () => {\n    const { dispatch } = this.props;\n    dispatch(logoutUser());\n  };\n\n  render() {\n    const { isLoggingOut, logoutError } = this.props; return (\n      <div>\n        <h4>Monitoramento</h4>\n        <button onClick={this.handleLogout}>Sair</button>\n        {isLoggingOut && <p>Logging Out....</p>}\n        {logoutError && <p>Error logging out</p>}\n\n\n\n        <div>\n          <table>\n            <thead>\n              <tr>\n                <th>Data</th>\n                <th>Email</th>\n                <th>Planta</th>\n                <th>Monitoramento</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.produtores.map(produtor =>\n                <tr>\n                  <td>{produtor.planta}</td>\n                  <td>{produtor.data}</td>\n                  <td>{produtor.monitoramento}</td>\n                </tr>\n              )}\n            </tbody>\n\n          </table>\n\n        </div>\n\n      </div>\n\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isLoggingOut: state.auth.isLoggingOut,\n    logoutError: state.auth.logoutError\n  };\n}\n\nexport default compose(\n  connect(mapStateToProps),\n)(Monitoramento);"]},"metadata":{},"sourceType":"module"}